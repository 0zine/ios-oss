machine:
  xcode:
    version: 7.2
checkout:
  post:
    - git submodule sync
    - git submodule update --init
    - ./Frameworks/KsApi/bin/carthage-bootstrap-if-needed
    - ./Frameworks/Models/bin/carthage-bootstrap-if-needed
    - ./Frameworks/ReactiveExtensions/bin/carthage-bootstrap-if-needed
dependencies:
  override:
    - bin/carthage-bootstrap-if-needed
  cache_directories:
    - Carthage
    - ./Frameworks/KsApi/Carthage
    - ./Frameworks/Models/Carthage
    - ./Frameworks/ReactiveExtensions/Carthage
test:
  override:
    - bin/test iOS
    - bin/test tvOS
    - bin/test-library iOS
    - bin/test-library tvOS
